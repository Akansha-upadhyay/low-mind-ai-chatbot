import datetime

print("Welcome to FLOW-MIND")
print("Your AI Study Assistant")
print("Type 'BYE' to exit\n")

name = input("Enter your name: ")

hour = datetime.datetime.now().hour
if 5 <= hour <= 11:
    print("Good Morning", name)
elif 11 < hour <= 17:
    print("Good Afternoon", name)
elif 17 < hour <= 20:
    print("Good Evening", name)
else:
    print("Good Night", name)

subjects = {
    "python": {
        "topics": ["Basics", "Loops", "Functions", "OOP", "File Handling"],
        "priority": 3
    },
    "ai": {
        "topics": ["Search Algorithms", "Knowledge Representation", "ML Basics"],
        "priority": 4
    },
    "dbms": {
        "topics": ["Normalization", "SQL Queries", "Joins", "Indexing"],
        "priority": 2
    },
    "maths": {
        "topics": ["Linear Algebra", "Probability", "Statistics"],
        "priority": 2
    }
}

def generate_timetable(hours):
    timetable = {}
    total_priority = sum(subjects[s]["priority"] for s in subjects)

    for subject in subjects:
        share = (subjects[subject]["priority"] / total_priority) * hours
        timetable[subject] = round(share, 1)

    return timetable

def focus_topics(subject):
    if subject in subjects:
        topics = subjects[subject]["topics"]
        return f"Focus on these topics first: {', '.join(topics[:3])}"
    return "Subject not found."

def ai_response(user_input):
    user_input = user_input.lower()

    if "timetable" in user_input:
        hours = int(input("How many hours can you study today? "))
        plan = generate_timetable(hours)
        reply = "Here is your personalized study timetable:\n"
        for sub, hrs in plan.items():
            reply += f"- {sub.title()} : {hrs} hours\n"
        return reply

    if "focus" in user_input:
        subject = input("Which subject? ").lower()
        return focus_topics(subject)

    if "motivate" in user_input:
        return "Consistency beats motivation. Study even when you donâ€™t feel like it."

    if "help" in user_input:
        return (
            "I can help you with:\n"
            "- Creating a study timetable\n"
            "- Suggesting focus topics\n"
            "- Study motivation\n"
            "Commands: timetable, focus, motivate"
        )

    return "Ask me about timetable, focus topics, or type HELP."

while True:
    user_input = input("\nYou: ")

    if "bye" in user_input.lower():
        print("FLOW-MIND: Goodbye! Study smart ðŸš€")
        break

    reply = ai_response(user_input)
    print("FLOW-MIND:", reply)

